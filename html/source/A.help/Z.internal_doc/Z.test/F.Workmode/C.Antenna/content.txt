# 天线计算模式（测试说明）

**测试目标：**
+ 远场参数（方向性、增益、辐射强度）
  + 用户参数相应的正确性
  + 计算逻辑正确性
  + 结果正确性
+ 端口参数（S参数、端口阻抗）
  + 用户参数相应的正确性
  + 计算逻辑正确性
  + 结果正确性

**测试方法：**
+ 基本测试
  + 运行标准案例
  + 修改标准案例中关键用户参数后另存为新的案例
+ 功能点测试
  + 用户界面相关
    * 尝试输入各种合理与不合理数值
    * 页面切换测试
    * 文档修改后保存再载入的测试
  + 运行测试（计算逻辑正确性）
    * 计算结果的原则性分析
    * 计算结果与旧版本的对比（注意配置的一致性）
  + 结果智能数据的测试
    * 智能数据控件参数的输入方式是否合理
    * 绘图结果显示是否有问题

**测试注意：**
+ 界面方面
  + **设置**页面
    * **频率设置模式**：四种模式的输入参数不同，详细说明见天线计算模式详细说明。
    * **天线端口**：**引用**设置用来添加用户已经创建的**馈源**元件。**功率**、**强度**、**相位**、**延迟** 这四个参数用于修改激励源的相对应参数，目前暂时无效，无需测试。
    * **天线远场**：用于设置多项记录条目，内部创建的监视器为频域远场记录器。扫描模式中 $\theta$-$\phi$ 扫描暂时无效，仅支持 $\theta$ 扫描及 $\phi$ 扫描。
    * **启用**：目前默认仅计算S11参数，**计算S11** 参数及 **计算S12** 参数暂时无效。
  + **杂项**页面
    * **信号设置**及**监视器区域**功能均可测试，**功率记录框模式**设置中，**自动**参数为默认Bbox大小；**用户自定义**用于自定义修改功率记录框区域，目前无效。
    * **预计算3D方向图** ：勾选后内部创建三维$\theta$-$\phi$监视器条目，用于查看三维方向图。
+ 智能数据方面（分为两个智能数据结果（1、方向图及场图；2、端口特性（S参数、端口阻抗、端口信息）））
  + 方向图智能数据：
    * **category** 选项为选择计算参数（方向性、增益、辐射强度、辐射功率）。
    * **ffar** 选项为选择记录条目。
    * **频率** 可以添加频率点（和之前设置的频率点必须一致）
    * **距离** 可以修改远场的距离。
    * **分量** 选项用于选择分量（etotal、etheta、ephi）
    * **量化方式** 选项中**Linear**为原值，**dB** 为 10log10()。
    * **绘图类型** 选项中**plot**为绘制直角坐标图，**polar**为绘制极坐标图，**3D**选项用与绘制三维方向图，目前仅能绘制计算模式内部创建的那个监视器的记录条目的3D方向图。
    * **Theta** 及 **Phi** 起说明作用，不能修改，是跟随用于选择的**记录项**变化的。
  + 端口智能数据
    * **power**: 频域远场记录下的不同定义方式下的频率参数。
    * **Impendence**:端口阻抗。
    * **S parameter**: S 参数
    * **port signal**：馈源端口的原始信息（时域及频域）
    * 另外测试端口特性参数（S参数、端口阻抗）时，端口网格的剖分应该作为测试条件。

**案例：**
[link]("javascript:ewdoc.open_editor('internal_files/test/systest/workmode/antenna/ew-v7_0_0-workmode-antenna-0001.ewp2')","偶极子天线")